<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <meta http-equiv="Content-Language" content="zh-CN">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="renderer" content="webkit">
    <meta name="generator" content="paper">

    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="description" content="">

    <title>>+++++[<----->-]<--.>+++++++[<-------->-]<+++.>+++++[<------->-]<++.>+++++++++[<++++++++++>-]<---.>++++++[<-------->-]<++.>++++++[<------>-]<.>+++++++++[<+++++++++>-]<.>+++++++[<--------->-]<++.>++++[<---->-]<.</title>

    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="//cdn.bootcss.com/bootstrap-datetimepicker/4.17.37/css/bootstrap-datetimepicker.min.css" rel="stylesheet">

    <script src="//cdn.bootcss.com/echarts/3.1.9/echarts.min.js"></script>
    <script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class='container'>
    <div class="page-header text-center">
        <h1><b>>+++++[<----->-]<--.>+++++++[<-------->-]<+++.>+++++[<------->-]<++.>+++++++++[<++++++++++>-]<---.>++++++[<-------->-]<++.>++++++[<------>-]<.>+++++++++[<+++++++++>-]<.>+++++++[<--------->-]<++.>++++[<---->-]<.</b><small>>++++[<------>-]<+.>+++++++++[<--------->-]<----.+++++++++++++.>++++++++[<+++++++++>-]<--.>++++++[<------->-]<---.--.>++++++[<++++++++>-]<.>+++++++++[<---------->-]<----.>++++++[<++++++>-]<+++.>+++++++[<++++++++>-]<--.>+++++++++[<--------->-]<--.>+++++[<++++++>-]<.</small></h1>
    </div>
    <div id='main' style='width: 100%;height: 600px;'></div>
    <div class="row">
        <div class="col-md-4 col-md-offset-4">
            <nav>
                <ul class="pager">
                    <li class="previous disabled"><a id='month_prev'><span aria-hidden="true">&larr;</span></a></li>
                    <li><a id='total'>O</a></li>
                    <li class="next disabled"><a id='month_next'><span aria-hidden="true">&rarr;</span></a></li>
                </ul>
            </nav>
        </div>
    </div>
</div>
</body>
<script type="text/javascript">
	var data = {
		1:[
			[],
			[],
			[],
			[],
			[],
			[],
			[],
			[],
		],
		2:[
			[],
			[],
			[],
			[],
			[],
			[],
			[],
			[],
		],
		3:[
			[],
			[],
			[],
			[],
			[],
			[],
			[],
			[],
		],
		4:[
			[],
			[],
			[],
			[],
			[],
			[],
			[],
			[],
		],
		5:[
            [  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30,  31],
			[1552, 512, 824, 314, 425, 615, 662, 785,1268, 725, 446, 408, 685, 443, 735,1021, 458, 661],
			[   0,   0,   0,   0,   0,   0,   0,   0, 765,   0, 248, 105, 207, 125, 440, 446,   0,  11],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
		],

		6:[
			[   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30],
			[ 802, 431, 548,1214,1038, 582, 960,1049,1584,1673,1249, 861, 815, 781,1128, 926,1193,1597,1184, 473, 452, 336, 719, 971,1058,1186, 440, 169, 826, 918],
			[ 418,   0,   0, 745, 562, 128, 264, 592,1135,  10, 764, 210, 200, 350, 334,   0, 497,1105, 630,   0, 493,  10, 107,   0, 780, 513,  40, 205, 120, 225],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 135, 410,   0, 210,   0,   0,   0, 170, 345,   0, 185, 120, 120],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 618,   0,   0,   0,   0,  70,   0, 185,  38,   0,   0,   0,   5],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  45, 220,   0,   0,   0,   0,   0,   0, 130,   0,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 165,   0,   0,   0, 353,   0,  40,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,4932,   0,   0, 118,   0,  37,   0,  72,   0,   0,  20,   0, 100],
		],
		7:[
			[   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30,  31],
			[1106, 556,1028, 401, 923, 511, 720, 730,1244, 893, 869, 625, 927, 287, 610,1018,1155, 682, 846, 413, 394,1089,1256, 333, 488, 630, 517, 593, 593, 593, 593],
			[ 400, 665,   0, 527, 880, 179, 120, 200,1170, 385, 450,  65, 219, 185,   0, 344, 141, 185, 134,   0, 615,  91, 551, 358, 289, 120, 170, 383,   0,   0,   0],
			[   0, 555,   0,  85,   0, 165, 120, 200, 190, 265, 120,   0, 115, 185,   0, 120, 120, 185,  80,   0,   0,   0, 120, 100, 215, 120,   0, 280,   0,   0,   0],
			[ 400, 110,   0,  58,   0,  14,   0,   0, 735,   0, 330,  65,   4,   0,   0, 174,  21,   0,  54,   0,   5,  91, 153,  58,  74,   0, 120,  11,   0,   0,   0],
			[   0,   0,   0, 160,   0,   0,   0,   0, 245,   0,   0,   0, 100,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 200,   0,   0,   0,   0,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0, 120,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 610,   0, 278,   0,   0,   0,   0,   0,   0,   0,   0],
			[   0,   0,   0, 224, 880,   0,   0,   0,   0,   0,   0,   0,   0,   0,8800,  50,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,  50,  92,   0,   0,   0],
		],

		//1 hua jia lei
		//2 ji cong suan lei
		//3 xizhi kuaizi lei
		//4 yingliao jiushui lei
		//5 qita lei

		8:[
			[   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30,  31],
			[ 735, 619, 508, 699, 920,1492,1019, 526,1005, 584, 728,1020,1412,1048, 892, 853, 632, 711, 743,1303,1191, 973, 825, 742, 495,1025,1067,1277, 643, 801, 475],
			[ 393, 360,   0, 170,   2, 269,1075,   0, 360,   2,   0, 233, 726, 385, 140, 160, 145,  83, 332, 440, 106,   0, 440, 404,   0, 185, 586, 375, 450,   0, 280],
			[ 345,  90,   0, 170,   0, 185, 185,   0, 160,   0,   0, 200, 240, 205,  40, 160, 145,   0, 330, 245,  72,   0, 290, 160,   0, 185, 150,  85, 270,   0, 280],
			[  48, 270,   0,   0,   2,  84, 370,   0,   0,   2,   0,  33, 246, 145, 100,   0,   0,   0,   2, 195,  24,   0,   2, 244,   0,   0,  86, 290, 180,   0,   0],
			[   0,   0,   0,   0,   0,   0, 220,   0, 200,   0,   0,   0,   6,   0,   0,   0,   0,  83,   0,   0,  10,   0,   0,   0,   0,   0,  90,   0,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 234,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 260,   0,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0, 300,   0,   0,   0,   0,   0,   0,  35,   0,   0,8800,   0,   0,   0,   0,   0, 138,   0,   0,   0,   0,   0,   0,   0,   0],
		],
		9:[
			[   1,   2,   3,   4,   5,   6,   7,   8,   9,  10,  11,  12,  13,  14,  15,  16,  17,  18,  19,  20,  21,  22,  23,  24,  25,  26,  27,  28,  29,  30],
			[ 805, 522,1015,1196, 676, 748, 546, 276, 537,1394, 668, 520, 463, 627,1407,1411,1534, 895, 722, 569, 470, 769, 981,1402,1234,   0,   0,   0,   0,   0],
			[ 225,   0, 388, 644, 190,   0,   0,  15,   0, 167, 695, 218, 435, 366,   0, 538, 389, 301,   0, 120, 420,  97, 287, 781, 334,   0,   0,   0,   0,   0],
			[ 225,   0, 200, 245, 150,   0,   0,   0,   0, 120, 175,   0, 160, 250,   0, 275, 105, 130,   0, 120,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
			[   0,   0, 188, 319,  40,   0,   0,  15,   0,  47, 220,   0,  65, 116,   0, 248, 284, 171,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
			[   0,   0,   0,  80,   0,   0,   0,   0,   0,   0, 200,   0, 210,   0,   0,  15,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0, 218,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
			[   0,   0,   0,   0,   0,   0,3700,   0,   0,   0, 100,   0,   0,   0,6000,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0,   0],
		],
		10:[
			[   1,   2],
			[1969,1311],
			[1678,   0],
			[ 595,   0],
			[ 288,   0],
			[  60,   0],
			[ 610,   0],
			[ 115,   0],
		],
		11:[
			[],
			[],
			[],
			[],
			[],
			[],
			[],
			[],
		],
		12:[
			[],
			[],
			[],
			[],
			[],
			[],
			[],
			[],
		],
	}
	var d = new Date()
	var m = d.getMonth() + 1
	if (window.location.search != '') {
		var r = window.location.search.substr(1).match(new RegExp('(^|&)m=([^&]*)(&|$)', 'i'))
		if (r) {
			m = parseInt(r[2])
		}
	}
    if (m > 0) {
        if (m-1 >= 1) {
            $('#month_prev').attr('href', window.location.origin+window.location.pathname+'?m='+(m-1))
            $('#month_prev').parent().removeClass('disabled')
        }
        if (m+1 <= 12) {
            $('#month_next').attr('href', window.location.origin+window.location.pathname+'?m='+(m+1))
            $('#month_next').parent().removeClass('disabled')
        }
    }
    $('#total').attr('href', window.location.origin+window.location.pathname+'?m=0')
	var mychart = echarts.init(document.getElementById('main'));
	var option = {
		title: {
			text: '',
			subtext: ''
		},
		tooltip: {
			trigger: 'axis'
		},
		grid: {
			show: true
		},
		legend: {
            data:['+','-','1','2','3','4','5','='],
            selected:{
                '=': false,
                '1': false,
                '2': false,
                '3': false,
                '4': false,
                '5': false,
            }
		},
		toolbox: {
			show: true,
			feature: {
				dataZoom: {},
				dataView: {readOnly: false},
				magicType: {type: ['line', 'bar']},
				restore: {},
				saveAsImage: {}
			}
		},
		xAxis:  {
			type: 'category',
			boundaryGap: false,
			data: []
		},
		yAxis: {
			type: 'value',
			axisLabel: {
				formatter: '{value}'
			}
		},
		series: [
			{
				name:'+',
				type:'line',
				data:[],
				markPoint: {
					data: [
						{type: 'max', name: 'max'},
						{type: 'min', name: 'min'}
					]
				},
				markLine: {
					data: [
						{type: 'average', name: 'average'}
					]
				}
			},
			{
				name:'-',
				type:'line',
				data:[],
				markLine: {
					data: [
						{type: 'average', name: 'average'}
					]
				}
			},
			{
				name:'1',
				type:'line',
				data:[],
				markLine: {
					data: [
						{type: 'average', name: 'average'}
					]
				}
			},
			{
				name:'2',
				type:'line',
				data:[],
				markLine: {
					data: [
						{type: 'average', name: 'average'}
					]
				}
			},
			{
				name:'3',
				type:'line',
				data:[],
				markLine: {
					data: [
						{type: 'average', name: 'average'}
					]
				}
			},
			{
				name:'4',
				type:'line',
				data:[],
				markLine: {
					data: [
						{type: 'average', name: 'average'}
					]
				}
			},
			{
				name:'5',
				type:'line',
				data:[],
				markLine: {
					data: [
						{type: 'average', name: 'average'}
					]
				}
			},
			{
				name:'=',
				type:'line',
				data:[],
				markPoint: {
					data: [
						{type: 'max', name: 'max'},
						{type: 'min', name: 'min'}
					]
				},
				markLine: {
					data: [
						{type: 'average', name: 'average'}
					]
				}
			}
		]
	}

    if (m == 0) {
        var alldata = [[],[],[],[],[],[],[],[],[]]
        var idx = 0
        var profit = 0
        for (var i = 1; i <= 12; i++) {
            var n = data[i][1].length
            if (n == 0) {
                continue
            }
            for (var j = 0; j < n; j++) {
                alldata[0][idx] = i + "." + data[i][0][j]
                alldata[1][idx] = data[i][1][j]
                alldata[2][idx] = data[i][2][j]
                alldata[3][idx] = data[i][3][j]
                alldata[4][idx] = data[i][4][j]
                alldata[5][idx] = data[i][5][j]
                alldata[6][idx] = data[i][6][j]
                alldata[7][idx] = data[i][7][j]
                alldata[8][idx] = alldata[1][idx] - alldata[2][idx]
                profit = profit + alldata[8][idx]
                idx++
            }
        }
        option.title.text = ''
        option.xAxis.data = alldata[0]
        option.series[0].data = alldata[1]
        option.series[1].data = alldata[2]
        option.series[2].data = alldata[3]
        option.series[3].data = alldata[4]
        option.series[4].data = alldata[5]
        option.series[5].data = alldata[6]
        option.series[6].data = alldata[7]
        option.series[7].data = alldata[8]
        console.log("days:%d, rmb:%d, average:%d", idx, profit, profit/idx)
    } else {
        var n = data[m][1].length
        data[m][8] = []
        for (var i = 0; i < n; i++) {
            data[m][8][i] = data[m][1][i] - data[m][2][i]
        }
        option.title.text = ''
        option.xAxis.data = data[m][0]
        option.series[0].data = data[m][1]
        option.series[1].data = data[m][2]
        option.series[2].data = data[m][3]
        option.series[3].data = data[m][4]
        option.series[4].data = data[m][5]
        option.series[5].data = data[m][6]
        option.series[6].data = data[m][7]
        option.series[7].data = data[m][8]
    }
    mychart.setOption(option)
</script>
</html>
